{"ast":null,"code":"/**\n * Takes an array of AbortSignals and returns a single signal.\n * If any signals are aborted, the returned signal will be aborted.\n * @param {Array<AbortSignal>} signals\n * @returns {AbortSignal}\n */\nfunction anySignal(signals) {\n  const controller = new globalThis.AbortController();\n\n  function onAbort() {\n    controller.abort();\n\n    for (const signal of signals) {\n      if (!signal || !signal.removeEventListener) continue;\n      signal.removeEventListener('abort', onAbort);\n    }\n  }\n\n  for (const signal of signals) {\n    if (!signal || !signal.addEventListener) continue;\n\n    if (signal.aborted) {\n      onAbort();\n      break;\n    }\n\n    signal.addEventListener('abort', onAbort);\n  }\n\n  return controller.signal;\n}\n\nmodule.exports = anySignal;\nmodule.exports.anySignal = anySignal;","map":{"version":3,"sources":["/home/legasi/nft-marketplace/node_modules/any-signal/index.js"],"names":["anySignal","signals","controller","globalThis","AbortController","onAbort","abort","signal","removeEventListener","addEventListener","aborted","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,CAAoBC,OAApB,EAA6B;AAC3B,QAAMC,UAAU,GAAG,IAAIC,UAAU,CAACC,eAAf,EAAnB;;AAEA,WAASC,OAAT,GAAoB;AAClBH,IAAAA,UAAU,CAACI,KAAX;;AAEA,SAAK,MAAMC,MAAX,IAAqBN,OAArB,EAA8B;AAC5B,UAAI,CAACM,MAAD,IAAW,CAACA,MAAM,CAACC,mBAAvB,EAA4C;AAC5CD,MAAAA,MAAM,CAACC,mBAAP,CAA2B,OAA3B,EAAoCH,OAApC;AACD;AACF;;AAED,OAAK,MAAME,MAAX,IAAqBN,OAArB,EAA8B;AAC5B,QAAI,CAACM,MAAD,IAAW,CAACA,MAAM,CAACE,gBAAvB,EAAyC;;AACzC,QAAIF,MAAM,CAACG,OAAX,EAAoB;AAClBL,MAAAA,OAAO;AACP;AACD;;AACDE,IAAAA,MAAM,CAACE,gBAAP,CAAwB,OAAxB,EAAiCJ,OAAjC;AACD;;AAED,SAAOH,UAAU,CAACK,MAAlB;AACD;;AAEDI,MAAM,CAACC,OAAP,GAAiBZ,SAAjB;AACAW,MAAM,CAACC,OAAP,CAAeZ,SAAf,GAA2BA,SAA3B","sourcesContent":["/**\n * Takes an array of AbortSignals and returns a single signal.\n * If any signals are aborted, the returned signal will be aborted.\n * @param {Array<AbortSignal>} signals\n * @returns {AbortSignal}\n */\nfunction anySignal (signals) {\n  const controller = new globalThis.AbortController()\n\n  function onAbort () {\n    controller.abort()\n\n    for (const signal of signals) {\n      if (!signal || !signal.removeEventListener) continue\n      signal.removeEventListener('abort', onAbort)\n    }\n  }\n\n  for (const signal of signals) {\n    if (!signal || !signal.addEventListener) continue\n    if (signal.aborted) {\n      onAbort()\n      break\n    }\n    signal.addEventListener('abort', onAbort)\n  }\n\n  return controller.signal\n}\n\nmodule.exports = anySignal\nmodule.exports.anySignal = anySignal\n"]},"metadata":{},"sourceType":"script"}